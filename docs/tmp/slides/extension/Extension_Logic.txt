---
config:
  layout: dagre
  theme: mc
---
flowchart LR
 subgraph ScanSubsystem["Analyzer / Techstack / Interceptor"]
        UI["React views (panels & wizards)"]
        ReactCtrl["React controller (per subsystem)"]
        BgCtrl["Background controller"]
        Engine["Engine (scanning, parsing, storage)"]
        CS["Content scripts (DOM / HTML snapshot)"]
  end
 subgraph ToolIntegration["Tool integration inside extension"]
        ToolReact["Tool React controller"]
        ToolBg["Tool background controller"]
        ToolEngine["Tool engine (REST + WebSocket client)"]
  end
    UI --> ReactCtrl & ToolReact
    ReactCtrl -- runtime messages --> BgCtrl
    BgCtrl --> Engine
    Engine -- injects --> CS
    CS -- raw HTML / data --> Engine
    ToolReact -- messages --> ToolBg
    ToolBg --> ToolEngine
    ToolEngine -- HTTP / WS --> Backend["OntoWeb-PT backend (REST APIs + WebSocket)"]