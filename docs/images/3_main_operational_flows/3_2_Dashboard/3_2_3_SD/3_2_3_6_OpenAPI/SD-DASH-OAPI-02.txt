sequenceDiagram
    autonumber
    participant P as APIExplorerPage
    participant B as EndpointBuilder
    participant S as SchemaOpenAPI
    participant U as Utente

    P->>S: Legge schema.paths
    P->>B: buildEndpoints(schema)
    activate B

    loop Per ogni path in schema.paths
        B->>B: Itera su chiavi di pathItem
        alt Chiave = metodo HTTP valido
            B->>B: Crea oggetto endpoint (method, path, summary, description,…)
            B->>B: Legge pathItem.parameters (parametri livello path)
            B->>B: Legge info.parameters (parametri livello operation)
            B->>B: Merge parametri path + operation (con override operation)
            B->>B: Determina tag principale (info.tags[0] o "General")
            B->>B: Aggiunge endpoint al gruppo tag
        else Chiave non è un metodo (es. parameters)
            B->>B: Ignora entry
        end
    end

    B-->>P: Restituisce mappa { tag → [endpoint] }
    deactivate B

    P->>P: Aggiorna stato endpointsByTag
    P-->>U: Renderizza sezioni per tag ognuna con lista di Accordion endpoint
