sequenceDiagram
    actor U as Utente
    participant P as Pagina SendPCAP
    participant G as PcapRequestsDataGrid (read-only)
    participant D as Drawer dettaglio richiesta

    P->>G: Render griglia preview con requests
    alt requests.length == 0
        G-->>U: Mostra messaggio "No HTTP requests are available. Please extract them again from the PCAP."
        P-->>U: Pulsante "Continue" disabilitato
    else requests.length > 0
        G-->>U: Mostra righe (Method, Status, URL, Authority, Body snippet)
        P-->>U: Pulsante "Continue" abilitato
    end

    U->>G: Click su icona "View details" di una riga
    G-->>P: onViewDetails(requestId)
    P->>D: Apri Drawer con dati della richiesta selezionata
    activate D
    D-->>U: Mostra sezioni Request/Response (method, URI, query params, headers, body)

    alt Body presente
        U->>D: Click su pulsante "Copy body"
        D->>D: Copia body in clipboard (se consentito dal browser)
    else Body assente
        D-->>U: Mostra testo "No body" Pulsante "Copy body" disabilitato
    end

    U->>D: Chiude il Drawer
    D-->>P: onClose()
    deactivate D
    P-->>U: La griglia resta invariata Lo step non cambia
