sequenceDiagram
    actor U as Utente
    participant P as Pagina SendPCAP
    participant G as PcapRequestsDataGridSelectable
    participant D as Drawer dettaglio richiesta

    P->>G: Render griglia selezionabile con requests
    alt requests.length == 0
        G-->>U: Mostra messaggio "No HTTP requests are available. Please extract them again from the PCAP."
        P-->>U: Pulsante "Continue" disabilitato
    else requests.length > 0
        G-->>U: Mostra righe con checkbox di selezione
        P-->>U: Pulsante "Continue" inizialmente disabilitato\n(selectedRequests vuoto)
    end

    U->>G: Seleziona o deseleziona una o piÃ¹ righe
    G->>P: onSelectionChange(selectedRequests[])
    P->>P: Aggiorna stato selectedRequests

    alt selectedRequests.length > 0
        P-->>U: Abilita pulsante "Continue"
    else Nessuna richiesta selezionata
        P-->>U: Disabilita pulsante "Continue"
    end

    U->>G: Click su icona "View details" di una riga
    G-->>P: onViewDetails(requestId)
    P->>D: Apri Drawer con dettagli della richiesta
    D-->>U: Mostra Request/Response, body e "Copy body"
    U->>D: Chiude il Drawer
    D-->>P: onClose()
